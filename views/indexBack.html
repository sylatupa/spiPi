<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" ng-app="app">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <script 
				    type="text/ng-model"
	id="./../WorkNotes.js">
    </script>
    <script type="text/javascript" src="./vendor/js/jquery.js"></script>
    <script type="text/javascript" src="./script/vendor/jquery-ui18.js"></script>
    <script src="./vendor/js/bootstrap/js/bootstrap.min.js"></script>
    <script src="./vendor/js/angular.js"></script>
    <script src="./vendor/js/angular-route.js"></script>
    <link href="./vendor/js/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="./vendor/js/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel='stylesheet prefetch' href='https://netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.css'>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Dosis|Candal'>
    <link rel="shortcut icon" href="./model/home/images/favicon.png" />
    <script src="./app/js/app.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script
	    type="text/ng-template"
     id="./views/report.html">
    </script>
    <link href="./style/wysiwyg.css" rel="stylesheet">
    <link rel='stylesheet prefetch' href='https://netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.css'>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Dosis|Candal'>

  </head>
  <body>
    <div  ng-controller="main" ng-app="app">
      <div class="container-fluid">
	<div class="row">
	  <div class="col-sm-3 col-lg-2">
	    <nav class="navbar navbar-default">
	      <div class="container-fluid">
		<div class="navbar-header">

		</div>
		<ul class="nav navbar-nav"  ng-repeat="item in report | unique:'title'" >
		  <li  ng-model="$parent.test" value="{{item.title}}" ng-click="$parent.test=item.title">
		    <a href='#'>{{item.title}} </a>  
		  </li>
		</ul>

	      </div>
	    </nav>
	  </div>
	  <div class="col-sm-9 col-lg-10">

	    <!--FILTERS ABOVE----------------------->
	    <div ng-view></div>

	    <div class="row">
	      <div ng-repeat="item in report | filter : test ">
		<div >
		  <div class="header">
		    <a href="#/detail?post={{item.title}}"><h2>{{item.title}} </h2></a>

		  </div>
		  <div class="well"> 
		    <div  class="dataline" ng-repeat="notes in item.paragraphs">
		      <p>{{notes}}</p> 
		    </div>
		  </div> <!--ENDNOTES -->
		</div> <!--ENDDEFAULTPANNEL-->
	      </div> <!--ENDNGREPEAT-->
	      <!-- your page content -->
	    </div>
	  </div>
	</div>
      </div> <!--ENDROW-->
    </div> <!--END APP  and CONTROLER-->
  </body>
</html>

<script type="text/javascript" src="./../LifeOrg.js"></script>
<script type="text/javascript" src="./../stop_words.js"></script>
<script>


var groupId = [];
var groups = [];
var maxId = 0;
data = WorkNotes;
for (var i = 0; i < data.length; i++){
  var item = data[i];

  if (!groupId[item.status]){
    groupId[item.status] = []; 
    groups.push(item.Status)
  }

  groupId[item.status].push({name:item.status, color:'red'});

}

height = 400
y = height
d = y
var svgContainer = d3.select("#svgdiv").append("svg").attr("width", 600).attr("height", 400).attr('y', function(d){ return (height - d); })
//var svgContainer = d3.select("#svgdiv").append("svg").attr("width", 600).attr('y', function(d) { return y(d.percent); } ).attr('height', function(d,i){ return height - y(d.percent); });

console.log(groupId);
for (var i = 0; i < groups.length ; i++){
  //Draw the Rectangl
  console.log(groupId[groups[i]])
  var rectangle = svgContainer
    .append("rect")
    .attr("x", (i*30)+(i*8+10))
    .attr("y", i+20)
    .attr("width", 30)
    .attr("height", groupId[groups[i]].length*10);

  var text = svgContainer
    .append("text")
    .attr("x", (i*30)+(i*8+10))
    .attr("y", i+15)
    .text(groups[i]);
}

</script>
<script>
var acc = document.getElementsByClassName("panel-heading");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].onclick = function(){
    /* Toggle between adding and removing the "active" class,
	to highlight the button that controls the panel */
    this.classList.toggle("active");

    /* Toggle between hiding and showing the active panel */
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }


  }
  acc[i].nextElementSibling.style.display = "none";
} 

</script>
<script>
var acc = document.getElementsByClassName("todopanels");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].onclick = function(){
    /* Toggle between adding and removing the "active" class, to highlight the button that controls the panel */
    this.classList.toggle("active");

    /* Toggle between hiding and showing the active panel */
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }


  }
  //acc[i].nextElementSibling.style.display = "none";
} 

</script>
